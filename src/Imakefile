XCOMM Imakefile / Makefile for Blackbox - an X11 Window manager
XCOMM Copyright (c) 1997, 1998 by Brad Hughes, bhughes@arn.net
XCOMM
XCOMM  This program is free software; you can redistribute it and/or modify
XCOMM  it under the terms of the GNU General Public License as published by
XCOMM  the Free Software Foundation; either version 2 of the License, or
XCOMM  (at your option) any later version.
XCOMM
XCOMM  This program is distributed in the hope that it will be useful,
XCOMM  but WITHOUT ANY WARRANTY; without even the implied warranty of
XCOMM  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
XCOMM  GNU General Public License for more details.
XCOMM
XCOMM  You should have received a copy of the GNU General Public License
XCOMM  along with this program; if not, write to the Free Software
XCOMM  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
XCOMM
XCOMM (See the included file COPYING / GPL-2.0)

XCOMM Uncomment this line to get debugging symbols in the executable
XCOMM 
XCOMM You may also put any compiler specific flags here
XCOMM CXXFLAGS :=	$(CXXFLAGS) -Wall -W -fno-strength-reduce -pipe
XCOMM CXXFLAGS :=	$(CXXFLAGS) -g

XCOMM Define this to get XShapeExtention support
#define SupportShapeExtension

XCOMM Define this to get Jon Denardis' curved gradient hack
XCOMM #define GradientHack


XCOMM
XCOMM  END OF USER CONFIGURABLE ITEMS
XCOMM
XCOMM  %%% *** %%% *** Do not edit the lines below *** %%% *** %%%
XCOMM


XCOMM Source files from which blackbox is built

SRCS :=		Basemenu.cc Clientmenu.cc LinkedList.cc Rootmenu.cc Windowmenu.cc Workspace.cc WorkspaceManager.cc Workspacemenu.cc blackbox.cc graphics.cc icon.cc main.cc window.cc
OBJS :=		Basemenu.o  Clientmenu.o  LinkedList.o  Rootmenu.o  Windowmenu.o  Workspace.o  WorkspaceManager.o  Workspacemenu.o  blackbox.o graphics.o icon.o main.o window.o

LDLIBS :=	$(XLIB) $(EXTENSIONLIB)
CXXFLAGS :=	$(CXXFLAGS) -DXAPPLOADDIR=\"$(XAPPLOADDIR)\"

#ifdef SupportShapeExtension
CXXFLAGS :=	$(CXXFLAGS) -DSHAPE
#endif

#ifdef GradientHack
CXXFLAGS :=	$(CXXFLAGS) -DGradientHack
LDLIBS :=	$(LDLIBS) -lm
#endif

XCOMM
XCOMM Homebrew target for imake - form used from $(CONFIGDUR)/Imake.rules
XCOMM
XCOMM DO NOT EDIT THIS UNLESS YOU KNOW WHAT YOU ARE DOING
XCOMM

#ifndef CplusplusProgramTargetHelperNoMan
#define CplusplusProgramTargetHelperNoMan(program,srcs,objs,deplib,locallib,syslib) @@\
ProgramTargetName(program): $(objs) $(deplib)                           @@\
	RemoveTargetProgram($@)                                         @@\
	CplusplusLinkRule($@,$(CXXLDOPTIONS),$(objs),locallib $(LDLIBS) syslib) @@\
                                                                        @@\
CenterProgramTarget(program,$(srcs),$(objs),locallib,syslib)            @@\
SentinelCplusplusProgramTarget(program,$(objs) $(deplib),$(objs) locallib $(LDLIBS) syslib) @@\
PurifyCplusplusProgramTarget(program,$(objs) $(deplib),$(objs) locallib $(LDLIBS) syslib) @@\
ProofCplusplusProgramTarget(program,$(objs) $(deplib),$(objs) locallib $(LDLIBS) syslib) @@\
                                                                        @@\
InstallProgram(program,$(BINDIR))
#endif /* CplusplusProgramTargetHelperNoMan */

#ifndef ComplexCplusplusProgramTargetNoMan
#define ComplexCplusplusProgramTargetNoMan(program)                     @@\
	PROGRAM = program                                               @@\
                                                                        @@\
AllTarget(program)                                                      @@\
                                                                        @@\
CplusplusProgramTargetHelperNoMan(program,SRCS,OBJS,DEPLIBS,$(LOCAL_LIBRARIES),NullParameter) @@\
                                                                        @@\
DependTarget()                                                          @@\
LintTarget()                                                            @@\
                                                                        @@\
clean::                                                                 @@\
	RemoveFile(ProgramTargetName(program))
#endif /* ComplexCplusplusProgramTargetNoMan */

ComplexCplusplusProgramTargetNoMan(blackbox)

